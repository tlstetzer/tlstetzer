<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<title>The Mine</title>
	<link rel="icon" href="images/mineIcon.png">

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link href="css/themine.css" rel="stylesheet">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"></script>
	<script src="js/MineGame.js"></script> 

	<script>
		var root, mineGame;
		
		function loader() {
			var checkStatus = window.frames[0].window.isLoading;
			setReadyListener();  // check if graphics are initialized
		}
		
		function setReadyListener() {
			const readyListener = () => {
				var status = window.frames[0].window.isLoading;
				if (window.frames[0].window.exportRoot) {
					root = this.window[0].exportRoot;
					mineGame = new MineGame();
					return
				}
				return setTimeout(readyListener, 250);
			};
			readyListener();
		}
	</script>
</head>

<body>
	<div class="container">
		
		<div class="row">
			<div class="col-10">
				<div class="animateContainer embed-responsive">
					<iframe id="iGame" src="themine.html" onload="loader()" scrolling="no" class="embed-responsive-item" style="width:100%; height:768px; padding: 0;"></iframe>
				</div>
			</div>
			
			<div class="col-2 d-grid gap-3">
				<br>
				<button id="btnExit" type="button" class="btn btn-outline-primary btnWidth">Exit Bank</button>
				<button id="btnDown" type="button" class="btn btn-outline-primary btnWidth">Elevator Down</button>
				<button id="btnPickaxe" type="button" class="btn btn-outline-primary btnWidth">Pickaxe</button>
				<button id="btnJackhammer" type="button" class="btn btn-outline-primary btnWidth">Jackhammer</button>
				<button id="btnDynamite" type="button" class="btn btn-outline-primary btnWidth" disabled>Explosive</button>
				<button id="btnPump" type="button" class="btn btn-outline-primary btnWidth" disabled>Pump</button>
				<button id="btnBank" type="button" class="btn btn-outline-primary btnWidth">Go to Bank</button>
			</div>
		</div>
	</div>
</body>
</html>
