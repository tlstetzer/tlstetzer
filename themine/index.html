<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<title>The Mine</title>
	<link rel="icon" href="images/mineIcon.png">

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.0/font/bootstrap-icons.css">
	<link href="css/themine.css" rel="stylesheet">
	
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"></script>
	<script src="js/MineGame.js"></script> 

	<script>
		var root, mineGame;
		
		function loader() {
			var checkStatus = window.frames[0].window.isLoading;
			setReadyListener();  // check if graphics are initialized
		}
		
		function setReadyListener() {
			const readyListener = () => {
				var status = window.frames[0].window.isLoading;
				if (window.frames[0].window.exportRoot) {
					root = this.window[0].exportRoot;
					mineGame = new MineGame();
					return
				}
				return setTimeout(readyListener, 250);
			};
			readyListener();
		}
	</script>
</head>

<body>
	<div class="container">
		
		<div class="row">
			<div class="col-10">
				<div class="animateContainer embed-responsive">
					<iframe id="iGame" src="themine.html" onload="loader()" scrolling="no" class="embed-responsive-item" style="width:100%; height:768px; padding: 0;"></iframe>
				</div>
			</div>
			
			<div class="col-2 d-grid gap-3" style="padding-top: 5px;">
				<button id="btnStart" class="btn btn-outline-primary">Start Game</button>
				<div class="input-group">
					<div class="input-group-text">Bank:</div>
					<input id="bank" type="text" class="form-control whiteInput" value="$100,000" disabled>
				</div>
				<div class="input-group">
					<div class="input-group-text">Gold:</div>
					<input id="gold" type="text" class="whiteInput form-control" value="$1,000 oz" disabled>
				</div>
				<h4>Select Tool</h4>
				<button id="btnPickaxe" type="button" class="btn btn-outline-primary btnWidth">
					<img src="images/Pickaxe.png" alt="Pickaxe" width="32" height="32">
					&nbsp;&nbsp;&nbsp;&nbsp;Pickaxe
				</button>
				<button id="btnJackhammer" type="button" class="btn btn-outline-primary btnWidth">
					<img src="images/Jackhammer.png" alt="Jackhammer" width="32" height="32"> 
					&nbsp;&nbsp;&nbsp;&nbsp;Jackhammer
				</button>
				<button id="btnDynamite" type="button" class="btn btn-outline-primary btnWidth">
					<img src="images/Dynamite.png" alt="Dynamite" width="32" height="32"> 
					&nbsp;&nbsp;&nbsp;&nbsp;Dynamite
				</button>
				<button id="btnPump" type="button" class="btn btn-outline-primary btnWidth">
					<img src="images/pump.png" alt="Pump" width="32" height="32"> 
					&nbsp;&nbsp;&nbsp;&nbsp;Pump
				</button>
				<h4>Select Direction</h4>
				<button id="btnLeft" class="btn btn-outline-primary btnKey"><i class="bi bi-arrow-left"></i></button>
				<button id="btnRight" class="btn btn-outline-primary btnKey"><i class="bi bi-arrow-right"></i></button>
				<button id="btnUp" class="btn btn-outline-primary btnKey"><i class="bi bi-arrow-up btnKey"></i></button>
				<button id="btnDown" class="btn btn-outline-primary btnKey"><i class="bi bi-arrow-down btnKey"></i></button>
			</div>
		</div>
	</div>
</body>
</html>
